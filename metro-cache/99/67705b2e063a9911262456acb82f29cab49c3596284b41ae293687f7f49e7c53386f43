{"dependencies":[{"name":"is-promise","data":{"isAsync":false}},{"name":"flux-standard-action","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = promiseMiddleware;\n\n  var _isPromise = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[0], \"is-promise\"));\n\n  var _fluxStandardAction = _$$_REQUIRE(_dependencyMap[1], \"flux-standard-action\");\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      var ownKeys = Object.keys(source);\n\n      if (typeof Object.getOwnPropertySymbols === 'function') {\n        ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n        }));\n      }\n\n      ownKeys.forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    }\n\n    return target;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function promiseMiddleware(_ref) {\n    var dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (!(0, _fluxStandardAction.isFSA)(action)) {\n          return (0, _isPromise.default)(action) ? action.then(dispatch) : next(action);\n        }\n\n        return (0, _isPromise.default)(action.payload) ? action.payload.then(function (result) {\n          return dispatch(_objectSpread({}, action, {\n            payload: result\n          }));\n        }).catch(function (error) {\n          dispatch(_objectSpread({}, action, {\n            payload: error,\n            error: true\n          }));\n          return Promise.reject(error);\n        }) : next(action);\n      };\n    };\n  }\n});","map":[[2,0,1,0],[4,0,3,0,"Object"],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,0],[4,24,3,22,"exports"],[4,31,3,0],[4,33,3,31],[4,45,3,0],[4,47,3,45],[5,0,4,2,"value"],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,0,3,45],[6,3,3,0],[7,0,6,0,"exports"],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"default"],[7,17,6,0],[7,20,6,18,"promiseMiddleware"],[7,37,6,0],[9,0,8,0],[9,6,8,4,"_isPromise"],[9,16,8,14],[9,19,8,17,"_interopRequireDefault"],[9,41,8,39],[9,42,8,40,"require"],[9,53,8,47],[9,86,8,39],[9,87,8,0],[11,0,10,0],[11,6,10,4,"_fluxStandardAction"],[11,25,10,23],[11,28,10,26,"require"],[11,39,10,33],[11,82,10,0],[13,0,12,0],[13,11,12,9,"_interopRequireDefault"],[13,33,12,0],[13,34,12,32,"obj"],[13,37,12,0],[13,39,12,37],[14,0,12,39],[14,11,12,46,"obj"],[14,14,12,49],[14,18,12,53,"obj"],[14,21,12,56],[14,22,12,57,"__esModule"],[14,32,12,46],[14,35,12,70,"obj"],[14,38,12,46],[14,41,12,76],[15,0,12,78,"default"],[15,6,12,78,"default"],[15,13,12,85],[15,15,12,87,"obj"],[16,0,12,76],[16,5,12,39],[17,0,12,95],[19,0,14,0],[19,11,14,9,"_objectSpread"],[19,24,14,0],[19,25,14,23,"target"],[19,31,14,0],[19,33,14,31],[20,0,14,33],[20,9,14,38],[20,13,14,42,"i"],[20,14,14,43],[20,17,14,46],[20,18,14,33],[20,20,14,49,"i"],[20,21,14,50],[20,24,14,53,"arguments"],[20,33,14,62],[20,34,14,63,"length"],[20,40,14,33],[20,42,14,71,"i"],[20,43,14,72],[20,45,14,33],[20,47,14,76],[21,0,14,78],[21,10,14,82,"source"],[21,16,14,88],[21,19,14,91,"arguments"],[21,28,14,100],[21,29,14,101,"i"],[21,30,14,100],[21,31,14,91],[21,35,14,107],[21,39,14,91],[21,42,14,114,"arguments"],[21,51,14,123],[21,52,14,124,"i"],[21,53,14,123],[21,54,14,91],[21,57,14,129],[21,59,14,78],[22,0,14,133],[22,10,14,137,"ownKeys"],[22,17,14,144],[22,20,14,147,"Object"],[22,26,14,153],[22,27,14,154,"keys"],[22,31,14,147],[22,32,14,159,"source"],[22,38,14,147],[22,39,14,133],[24,0,14,168],[24,10,14,172],[24,17,14,179,"Object"],[24,23,14,185],[24,24,14,186,"getOwnPropertySymbols"],[24,45,14,172],[24,50,14,212],[24,60,14,168],[24,62,14,224],[25,0,14,226,"ownKeys"],[25,8,14,226,"ownKeys"],[25,15,14,233],[25,18,14,236,"ownKeys"],[25,25,14,243],[25,26,14,244,"concat"],[25,32,14,236],[25,33,14,251,"Object"],[25,39,14,257],[25,40,14,258,"getOwnPropertySymbols"],[25,61,14,251],[25,62,14,280,"source"],[25,68,14,251],[25,70,14,288,"filter"],[25,76,14,251],[25,77,14,295],[25,87,14,305,"sym"],[25,90,14,295],[25,92,14,310],[26,0,14,312],[26,17,14,319,"Object"],[26,23,14,325],[26,24,14,326,"getOwnPropertyDescriptor"],[26,48,14,319],[26,49,14,351,"source"],[26,55,14,319],[26,57,14,359,"sym"],[26,60,14,319],[26,62,14,364,"enumerable"],[26,72,14,312],[27,0,14,377],[27,9,14,251],[27,10,14,236],[27,11,14,226],[28,0,14,382],[30,0,14,383,"ownKeys"],[30,6,14,383,"ownKeys"],[30,13,14,390],[30,14,14,391,"forEach"],[30,21,14,383],[30,22,14,399],[30,32,14,409,"key"],[30,35,14,399],[30,37,14,414],[31,0,14,416,"_defineProperty"],[31,8,14,416,"_defineProperty"],[31,23,14,431],[31,24,14,432,"target"],[31,30,14,431],[31,32,14,440,"key"],[31,35,14,431],[31,37,14,445,"source"],[31,43,14,451],[31,44,14,452,"key"],[31,47,14,451],[31,48,14,431],[31,49,14,416],[32,0,14,460],[32,7,14,383],[33,0,14,464],[35,0,14,465],[35,11,14,472,"target"],[35,17,14,465],[36,0,14,481],[38,0,16,0],[38,11,16,9,"_defineProperty"],[38,26,16,0],[38,27,16,25,"obj"],[38,30,16,0],[38,32,16,30,"key"],[38,35,16,0],[38,37,16,35,"value"],[38,42,16,0],[38,44,16,42],[39,0,16,44],[39,8,16,48,"key"],[39,11,16,51],[39,15,16,55,"obj"],[39,18,16,44],[39,20,16,60],[40,0,16,62,"Object"],[40,6,16,62,"Object"],[40,12,16,68],[40,13,16,69,"defineProperty"],[40,27,16,62],[40,28,16,84,"obj"],[40,31,16,62],[40,33,16,89,"key"],[40,36,16,62],[40,38,16,94],[41,0,16,96,"value"],[41,8,16,96,"value"],[41,13,16,101],[41,15,16,103,"value"],[41,20,16,94],[42,0,16,110,"enumerable"],[42,8,16,110,"enumerable"],[42,18,16,120],[42,20,16,122],[42,24,16,94],[43,0,16,128,"configurable"],[43,8,16,128,"configurable"],[43,20,16,140],[43,22,16,142],[43,26,16,94],[44,0,16,148,"writable"],[44,8,16,148,"writable"],[44,16,16,156],[44,18,16,158],[45,0,16,94],[45,7,16,62],[46,0,16,168],[46,5,16,44],[46,11,16,174],[47,0,16,176,"obj"],[47,6,16,176,"obj"],[47,9,16,179],[47,10,16,180,"key"],[47,13,16,179],[47,14,16,176],[47,17,16,187,"value"],[47,22,16,176],[48,0,16,195],[50,0,16,196],[50,11,16,203,"obj"],[50,14,16,196],[51,0,16,209],[53,0,18,0],[53,11,18,9,"promiseMiddleware"],[53,28,18,0],[53,29,18,27,"_ref"],[53,33,18,0],[53,35,18,33],[54,0,19,2],[54,8,19,6,"dispatch"],[54,16,19,14],[54,19,19,17,"_ref"],[54,23,19,21],[54,24,19,22,"dispatch"],[54,32,19,2],[55,0,20,2],[55,11,20,9],[55,21,20,19,"next"],[55,25,20,9],[55,27,20,25],[56,0,21,4],[56,13,21,11],[56,23,21,21,"action"],[56,29,21,11],[56,31,21,29],[57,0,22,6],[57,12,22,10],[57,13,22,11],[57,14,22,12],[57,17,22,15,"_fluxStandardAction"],[57,36,22,34],[57,37,22,35,"isFSA"],[57,42,22,11],[57,44,22,42,"action"],[57,50,22,11],[57,51,22,6],[57,53,22,51],[58,0,23,8],[58,17,23,15],[58,18,23,16],[58,21,23,19,"_isPromise"],[58,31,23,29],[58,32,23,30,"default"],[58,39,23,15],[58,41,23,39,"action"],[58,47,23,15],[58,51,23,49,"action"],[58,57,23,55],[58,58,23,56,"then"],[58,62,23,49],[58,63,23,61,"dispatch"],[58,71,23,49],[58,72,23,15],[58,75,23,73,"next"],[58,79,23,77],[58,80,23,78,"action"],[58,86,23,77],[58,87,23,8],[59,0,24,7],[61,0,26,6],[61,15,26,13],[61,16,26,14],[61,19,26,17,"_isPromise"],[61,29,26,27],[61,30,26,28,"default"],[61,37,26,13],[61,39,26,37,"action"],[61,45,26,43],[61,46,26,44,"payload"],[61,53,26,13],[61,57,26,55,"action"],[61,63,26,61],[61,64,26,62,"payload"],[61,71,26,55],[61,72,26,70,"then"],[61,76,26,55],[61,77,26,75],[61,87,26,85,"result"],[61,93,26,75],[61,95,26,93],[62,0,27,8],[62,17,27,15,"dispatch"],[62,25,27,23],[62,26,27,24,"_objectSpread"],[62,39,27,37],[62,40,27,38],[62,42,27,37],[62,44,27,42,"action"],[62,50,27,37],[62,52,27,50],[63,0,28,10,"payload"],[63,12,28,10,"payload"],[63,19,28,17],[63,21,28,19,"result"],[64,0,27,50],[64,11,27,37],[64,12,27,23],[64,13,27,8],[65,0,30,7],[65,9,26,55],[65,11,30,9,"catch"],[65,16,26,55],[65,17,30,15],[65,27,30,25,"error"],[65,32,30,15],[65,34,30,32],[66,0,31,8,"dispatch"],[66,10,31,8,"dispatch"],[66,18,31,16],[66,19,31,17,"_objectSpread"],[66,32,31,30],[66,33,31,31],[66,35,31,30],[66,37,31,35,"action"],[66,43,31,30],[66,45,31,43],[67,0,32,10,"payload"],[67,12,32,10,"payload"],[67,19,32,17],[67,21,32,19,"error"],[67,26,31,43],[68,0,33,10,"error"],[68,12,33,10,"error"],[68,17,33,15],[68,19,33,17],[69,0,31,43],[69,11,31,30],[69,12,31,16],[69,13,31,8],[70,0,35,8],[70,17,35,15,"Promise"],[70,24,35,22],[70,25,35,23,"reject"],[70,31,35,15],[70,32,35,30,"error"],[70,37,35,15],[70,38,35,8],[71,0,36,7],[71,9,26,55],[71,10,26,13],[71,13,36,11,"next"],[71,17,36,15],[71,18,36,16,"action"],[71,24,36,15],[71,25,26,6],[72,0,37,5],[72,7,21,4],[73,0,38,3],[73,5,20,2],[74,0,39,1]]},"type":"js/module"}]}