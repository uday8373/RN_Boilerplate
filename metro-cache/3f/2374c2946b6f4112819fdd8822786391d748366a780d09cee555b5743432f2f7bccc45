{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"react","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}},{"name":"./useReduxContext","data":{"isAsync":false}},{"name":"../utils/Subscription","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  exports.__esModule = true;\n  exports.useSelector = useSelector;\n\n  var _react = _$$_REQUIRE(_dependencyMap[1], \"react\");\n\n  var _invariant = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"invariant\"));\n\n  var _useReduxContext2 = _$$_REQUIRE(_dependencyMap[3], \"./useReduxContext\");\n\n  var _Subscription = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"../utils/Subscription\"));\n\n  var useIsomorphicLayoutEffect = typeof window !== 'undefined' ? _react.useLayoutEffect : _react.useEffect;\n\n  var refEquality = function refEquality(a, b) {\n    return a === b;\n  };\n\n  function useSelector(selector, equalityFn) {\n    if (equalityFn === void 0) {\n      equalityFn = refEquality;\n    }\n\n    (0, _invariant[\"default\"])(selector, \"You must pass a selector to useSelectors\");\n\n    var _useReduxContext = (0, _useReduxContext2.useReduxContext)(),\n        store = _useReduxContext.store,\n        contextSub = _useReduxContext.subscription;\n\n    var _useReducer = (0, _react.useReducer)(function (s) {\n      return s + 1;\n    }, 0),\n        forceRender = _useReducer[1];\n\n    var subscription = (0, _react.useMemo)(function () {\n      return new _Subscription[\"default\"](store, contextSub);\n    }, [store, contextSub]);\n    var latestSubscriptionCallbackError = (0, _react.useRef)();\n    var latestSelector = (0, _react.useRef)();\n    var latestSelectedState = (0, _react.useRef)();\n    var selectedState;\n\n    try {\n      if (selector !== latestSelector.current || latestSubscriptionCallbackError.current) {\n        selectedState = selector(store.getState());\n      } else {\n        selectedState = latestSelectedState.current;\n      }\n    } catch (err) {\n      var errorMessage = \"An error occured while selecting the store state: \" + err.message + \".\";\n\n      if (latestSubscriptionCallbackError.current) {\n        errorMessage += \"\\nThe error may be correlated with this previous error:\\n\" + latestSubscriptionCallbackError.current.stack + \"\\n\\nOriginal stack trace:\";\n      }\n\n      throw new Error(errorMessage);\n    }\n\n    useIsomorphicLayoutEffect(function () {\n      latestSelector.current = selector;\n      latestSelectedState.current = selectedState;\n      latestSubscriptionCallbackError.current = undefined;\n    });\n    useIsomorphicLayoutEffect(function () {\n      function checkForUpdates() {\n        try {\n          var newSelectedState = latestSelector.current(store.getState());\n\n          if (equalityFn(newSelectedState, latestSelectedState.current)) {\n            return;\n          }\n\n          latestSelectedState.current = newSelectedState;\n        } catch (err) {\n          latestSubscriptionCallbackError.current = err;\n        }\n\n        forceRender({});\n      }\n\n      subscription.onStateChange = checkForUpdates;\n      subscription.trySubscribe();\n      checkForUpdates();\n      return function () {\n        return subscription.tryUnsubscribe();\n      };\n    }, [store, subscription]);\n    return selectedState;\n  }\n});","map":[[2,0,1,0],[4,0,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,42,3,36],[4,109,3,0],[6,0,5,0,"exports"],[6,2,5,0,"exports"],[6,9,5,7],[6,10,5,8,"__esModule"],[6,20,5,0],[6,23,5,21],[6,27,5,0],[7,0,6,0,"exports"],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"useSelector"],[7,21,6,0],[7,24,6,22,"useSelector"],[7,35,6,0],[9,0,8,0],[9,6,8,4,"_react"],[9,12,8,10],[9,15,8,13,"require"],[9,26,8,20],[9,54,8,0],[11,0,10,0],[11,6,10,4,"_invariant"],[11,16,10,14],[11,19,10,17,"_interopRequireDefault"],[11,41,10,39],[11,42,10,40,"require"],[11,53,10,47],[11,85,10,39],[11,86,10,0],[13,0,12,0],[13,6,12,4,"_useReduxContext2"],[13,23,12,21],[13,26,12,24,"require"],[13,37,12,31],[13,77,12,0],[15,0,14,0],[15,6,14,4,"_Subscription"],[15,19,14,17],[15,22,14,20,"_interopRequireDefault"],[15,44,14,42],[15,45,14,43,"require"],[15,56,14,50],[15,100,14,42],[15,101,14,0],[17,0,24,0],[17,6,24,4,"useIsomorphicLayoutEffect"],[17,31,24,29],[17,34,24,32],[17,41,24,39,"window"],[17,47,24,32],[17,52,24,50],[17,63,24,32],[17,66,24,64,"_react"],[17,72,24,70],[17,73,24,71,"useLayoutEffect"],[17,88,24,32],[17,91,24,89,"_react"],[17,97,24,95],[17,98,24,96,"useEffect"],[17,107,24,0],[19,0,26,0],[19,6,26,4,"refEquality"],[19,17,26,15],[19,20,26,18],[19,29,26,27,"refEquality"],[19,40,26,18],[19,41,26,39,"a"],[19,42,26,18],[19,44,26,42,"b"],[19,45,26,18],[19,47,26,45],[20,0,27,2],[20,11,27,9,"a"],[20,12,27,10],[20,17,27,15,"b"],[20,18,27,2],[21,0,28,1],[21,3,26,0],[23,0,54,0],[23,11,54,9,"useSelector"],[23,22,54,0],[23,23,54,21,"selector"],[23,31,54,0],[23,33,54,31,"equalityFn"],[23,43,54,0],[23,45,54,43],[24,0,55,2],[24,8,55,6,"equalityFn"],[24,18,55,16],[24,23,55,21],[24,28,55,26],[24,29,55,2],[24,31,55,29],[25,0,56,4,"equalityFn"],[25,6,56,4,"equalityFn"],[25,16,56,14],[25,19,56,17,"refEquality"],[25,30,56,4],[26,0,57,3],[28,0,59,2],[28,5,59,3],[28,8,59,6,"_invariant"],[28,18,59,16],[28,19,59,17],[28,28,59,16],[28,29,59,2],[28,31,59,29,"selector"],[28,39,59,2],[28,41,59,39],[28,83,59,2],[30,0,61,2],[30,8,61,6,"_useReduxContext"],[30,24,61,22],[30,27,61,25],[30,28,61,26],[30,31,61,29,"_useReduxContext2"],[30,48,61,46],[30,49,61,47,"useReduxContext"],[30,64,61,25],[30,67,61,2],[31,0,61,2],[31,8,62,6,"store"],[31,13,62,11],[31,16,62,14,"_useReduxContext"],[31,32,62,30],[31,33,62,31,"store"],[31,38,61,2],[32,0,61,2],[32,8,63,6,"contextSub"],[32,18,63,16],[32,21,63,19,"_useReduxContext"],[32,37,63,35],[32,38,63,36,"subscription"],[32,50,61,2],[34,0,65,2],[34,8,65,6,"_useReducer"],[34,19,65,17],[34,22,65,20],[34,23,65,21],[34,26,65,24,"_react"],[34,32,65,30],[34,33,65,31,"useReducer"],[34,43,65,20],[34,45,65,43],[34,55,65,53,"s"],[34,56,65,43],[34,58,65,56],[35,0,66,4],[35,13,66,11,"s"],[35,14,66,12],[35,17,66,15],[35,18,66,4],[36,0,67,3],[36,5,65,20],[36,7,67,5],[36,8,65,20],[36,9,65,2],[37,0,65,2],[37,8,68,6,"forceRender"],[37,19,68,17],[37,22,68,20,"_useReducer"],[37,33,68,31],[37,34,68,32],[37,35,68,31],[37,36,65,2],[39,0,70,2],[39,8,70,6,"subscription"],[39,20,70,18],[39,23,70,21],[39,24,70,22],[39,27,70,25,"_react"],[39,33,70,31],[39,34,70,32,"useMemo"],[39,41,70,21],[39,43,70,41],[39,55,70,53],[40,0,71,4],[40,13,71,11],[40,17,71,15,"_Subscription"],[40,30,71,28],[40,31,71,29],[40,40,71,28],[40,41,71,11],[40,42,71,40,"store"],[40,47,71,11],[40,49,71,47,"contextSub"],[40,59,71,11],[40,60,71,4],[41,0,72,3],[41,5,70,21],[41,7,72,5],[41,8,72,6,"store"],[41,13,72,5],[41,15,72,13,"contextSub"],[41,25,72,5],[41,26,70,21],[41,27,70,2],[42,0,73,2],[42,8,73,6,"latestSubscriptionCallbackError"],[42,39,73,37],[42,42,73,40],[42,43,73,41],[42,46,73,44,"_react"],[42,52,73,50],[42,53,73,51,"useRef"],[42,59,73,40],[42,62,73,2],[43,0,74,2],[43,8,74,6,"latestSelector"],[43,22,74,20],[43,25,74,23],[43,26,74,24],[43,29,74,27,"_react"],[43,35,74,33],[43,36,74,34,"useRef"],[43,42,74,23],[43,45,74,2],[44,0,75,2],[44,8,75,6,"latestSelectedState"],[44,27,75,25],[44,30,75,28],[44,31,75,29],[44,34,75,32,"_react"],[44,40,75,38],[44,41,75,39,"useRef"],[44,47,75,28],[44,50,75,2],[45,0,76,2],[45,8,76,6,"selectedState"],[45,21,76,2],[47,0,78,2],[47,8,78,6],[48,0,79,4],[48,10,79,8,"selector"],[48,18,79,16],[48,23,79,21,"latestSelector"],[48,37,79,35],[48,38,79,36,"current"],[48,45,79,8],[48,49,79,47,"latestSubscriptionCallbackError"],[48,80,79,78],[48,81,79,79,"current"],[48,88,79,4],[48,90,79,88],[49,0,80,6,"selectedState"],[49,8,80,6,"selectedState"],[49,21,80,19],[49,24,80,22,"selector"],[49,32,80,30],[49,33,80,31,"store"],[49,38,80,36],[49,39,80,37,"getState"],[49,47,80,31],[49,49,80,30],[49,50,80,6],[50,0,81,5],[50,7,79,4],[50,13,81,11],[51,0,82,6,"selectedState"],[51,8,82,6,"selectedState"],[51,21,82,19],[51,24,82,22,"latestSelectedState"],[51,43,82,41],[51,44,82,42,"current"],[51,51,82,6],[52,0,83,5],[53,0,84,3],[53,5,78,2],[53,6,84,4],[53,13,84,11,"err"],[53,16,84,4],[53,18,84,16],[54,0,85,4],[54,10,85,8,"errorMessage"],[54,22,85,20],[54,25,85,23],[54,80,85,78,"err"],[54,83,85,81],[54,84,85,82,"message"],[54,91,85,23],[54,94,85,92],[54,97,85,4],[56,0,87,4],[56,10,87,8,"latestSubscriptionCallbackError"],[56,41,87,39],[56,42,87,40,"current"],[56,49,87,4],[56,51,87,49],[57,0,88,6,"errorMessage"],[57,8,88,6,"errorMessage"],[57,20,88,18],[57,24,88,22],[57,86,88,84,"latestSubscriptionCallbackError"],[57,117,88,115],[57,118,88,116,"current"],[57,125,88,84],[57,126,88,124,"stack"],[57,131,88,22],[57,134,88,132],[57,161,88,6],[58,0,89,5],[60,0,91,4],[60,12,91,10],[60,16,91,14,"Error"],[60,21,91,10],[60,22,91,20,"errorMessage"],[60,34,91,10],[60,35,91,4],[61,0,92,3],[63,0,94,2,"useIsomorphicLayoutEffect"],[63,4,94,2,"useIsomorphicLayoutEffect"],[63,29,94,27],[63,30,94,28],[63,42,94,40],[64,0,95,4,"latestSelector"],[64,6,95,4,"latestSelector"],[64,20,95,18],[64,21,95,19,"current"],[64,28,95,4],[64,31,95,29,"selector"],[64,39,95,4],[65,0,96,4,"latestSelectedState"],[65,6,96,4,"latestSelectedState"],[65,25,96,23],[65,26,96,24,"current"],[65,33,96,4],[65,36,96,34,"selectedState"],[65,49,96,4],[66,0,97,4,"latestSubscriptionCallbackError"],[66,6,97,4,"latestSubscriptionCallbackError"],[66,37,97,35],[66,38,97,36,"current"],[66,45,97,4],[66,48,97,46,"undefined"],[66,57,97,4],[67,0,98,3],[67,5,94,27],[67,6,94,2],[68,0,99,2,"useIsomorphicLayoutEffect"],[68,4,99,2,"useIsomorphicLayoutEffect"],[68,29,99,27],[68,30,99,28],[68,42,99,40],[69,0,100,4],[69,15,100,13,"checkForUpdates"],[69,30,100,4],[69,33,100,31],[70,0,101,6],[70,12,101,10],[71,0,102,8],[71,14,102,12,"newSelectedState"],[71,30,102,28],[71,33,102,31,"latestSelector"],[71,47,102,45],[71,48,102,46,"current"],[71,55,102,31],[71,56,102,54,"store"],[71,61,102,59],[71,62,102,60,"getState"],[71,70,102,54],[71,72,102,31],[71,73,102,8],[73,0,104,8],[73,14,104,12,"equalityFn"],[73,24,104,22],[73,25,104,23,"newSelectedState"],[73,41,104,22],[73,43,104,41,"latestSelectedState"],[73,62,104,60],[73,63,104,61,"current"],[73,70,104,22],[73,71,104,8],[73,73,104,71],[74,0,105,10],[75,0,106,9],[77,0,108,8,"latestSelectedState"],[77,10,108,8,"latestSelectedState"],[77,29,108,27],[77,30,108,28,"current"],[77,37,108,8],[77,40,108,38,"newSelectedState"],[77,56,108,8],[78,0,109,7],[78,9,101,6],[78,10,109,8],[78,17,109,15,"err"],[78,20,109,8],[78,22,109,20],[79,0,114,8,"latestSubscriptionCallbackError"],[79,10,114,8,"latestSubscriptionCallbackError"],[79,41,114,39],[79,42,114,40,"current"],[79,49,114,8],[79,52,114,50,"err"],[79,55,114,8],[80,0,115,7],[82,0,117,6,"forceRender"],[82,8,117,6,"forceRender"],[82,19,117,17],[82,20,117,18],[82,22,117,17],[82,23,117,6],[83,0,118,5],[85,0,120,4,"subscription"],[85,6,120,4,"subscription"],[85,18,120,16],[85,19,120,17,"onStateChange"],[85,32,120,4],[85,35,120,33,"checkForUpdates"],[85,50,120,4],[86,0,121,4,"subscription"],[86,6,121,4,"subscription"],[86,18,121,16],[86,19,121,17,"trySubscribe"],[86,31,121,4],[87,0,122,4,"checkForUpdates"],[87,6,122,4,"checkForUpdates"],[87,21,122,19],[88,0,123,4],[88,13,123,11],[88,25,123,23],[89,0,124,6],[89,15,124,13,"subscription"],[89,27,124,25],[89,28,124,26,"tryUnsubscribe"],[89,42,124,13],[89,44,124,6],[90,0,125,5],[90,7,123,4],[91,0,126,3],[91,5,99,27],[91,7,126,5],[91,8,126,6,"store"],[91,13,126,5],[91,15,126,13,"subscription"],[91,27,126,5],[91,28,99,27],[91,29,99,2],[92,0,127,2],[92,11,127,9,"selectedState"],[92,24,127,2],[93,0,128,1]]},"type":"js/module"}]}