{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/defineProperty","data":{"isAsync":false}},{"name":"./nativeInterface","data":{"isAsync":false}},{"name":"./internetReachability","data":{"isAsync":false}},{"name":"./utils","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.setup = setup;\n  exports.tearDown = tearDown;\n  exports.latest = latest;\n  exports.add = add;\n  exports.remove = remove;\n  exports.default = void 0;\n\n  var _defineProperty2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/defineProperty\"));\n\n  var _nativeInterface = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"./nativeInterface\"));\n\n  var _internetReachability = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./internetReachability\"));\n\n  var _utils = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[4], \"./utils\"));\n\n  function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\n  function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n  var DEVICE_CONNECTIVITY_EVENT = 'netInfo.networkStatusDidChange';\n  var _isSetup = false;\n  var _nativeEventSubscription = null;\n  var _internetReachabilitySubscription = null;\n\n  var _subscriptions = new Set();\n\n  var _latestState = null;\n\n  function fetchCurrentState() {\n    return _utils.default.currentState().then(function (state) {\n      _internetReachability.default.update(state);\n\n      var convertedState = _utils.default.convertState(state);\n\n      _latestState = convertedState;\n      return convertedState;\n    });\n  }\n\n  function setup() {\n    if (_isSetup) {\n      return;\n    }\n\n    _nativeEventSubscription = _nativeInterface.default.eventEmitter.addListener(DEVICE_CONNECTIVITY_EVENT, function (state) {\n      _internetReachability.default.update(state);\n\n      var convertedState = _utils.default.convertState(state);\n\n      _latestState = convertedState;\n\n      _subscriptions.forEach(function (handler) {\n        return handler(convertedState);\n      });\n    });\n    fetchCurrentState();\n    _internetReachabilitySubscription = _internetReachability.default.addSubscription(function (isInternetReachable) {\n      if (!_latestState) {\n        return;\n      }\n\n      var nextState = _objectSpread({}, _latestState, {\n        isInternetReachable: isInternetReachable\n      });\n\n      _latestState = nextState;\n\n      _subscriptions.forEach(function (handler) {\n        return handler(nextState);\n      });\n    });\n    _isSetup = true;\n  }\n\n  function tearDown() {\n    if (!_isSetup) {\n      return;\n    }\n\n    if (_nativeEventSubscription) {\n      _nativeEventSubscription.remove();\n    }\n\n    _subscriptions.clear();\n\n    _internetReachability.default.clear();\n\n    if (_internetReachabilitySubscription) {\n      _internetReachabilitySubscription();\n    }\n\n    _isSetup = false;\n  }\n\n  function latest() {\n    if (_latestState) {\n      return Promise.resolve(_latestState);\n    } else {\n      return fetchCurrentState();\n    }\n  }\n\n  function add(handler) {\n    _subscriptions.add(handler);\n\n    if (_latestState) {\n      handler(_latestState);\n    } else {\n      latest().then(handler);\n    }\n  }\n\n  function remove(handler) {\n    _subscriptions.delete(handler);\n  }\n\n  var _default = {\n    setup: setup,\n    tearDown: tearDown,\n    latest: latest,\n    add: add,\n    remove: remove\n  };\n  exports.default = _default;\n});","map":[[16,0,11,0],[18,0,12,0],[20,0,14,0],[26,0,16,0],[26,6,16,6,"DEVICE_CONNECTIVITY_EVENT"],[26,31,16,31],[26,34,16,34],[26,66,16,0],[27,0,18,0],[27,6,18,4,"_isSetup"],[27,14,18,12],[27,17,18,15],[27,22,18,0],[28,0,19,0],[28,6,19,4,"_nativeEventSubscription"],[28,30,19,60],[28,33,19,63],[28,37,19,0],[29,0,20,0],[29,6,20,4,"_internetReachabilitySubscription"],[29,39,20,58],[29,42,20,61],[29,46,20,0],[31,0,21,0],[31,6,21,6,"_subscriptions"],[31,20,21,20],[31,23,21,23],[31,27,21,27,"Set"],[31,30,21,23],[31,32,21,0],[33,0,22,0],[33,6,22,4,"_latestState"],[33,18,22,43],[33,21,22,46],[33,25,22,0],[35,0,24,0],[35,11,24,9,"fetchCurrentState"],[35,28,24,0],[35,31,24,58],[36,0,25,2],[36,11,25,9,"Utils"],[36,26,25,15,"currentState"],[36,38,25,9],[36,41,25,30,"then"],[36,45,25,9],[36,46,26,4],[36,56,26,5,"state"],[36,61,26,4],[36,63,26,35],[37,0,28,6,"InternetReachability"],[37,36,28,27,"update"],[37,42,28,6],[37,43,28,34,"state"],[37,48,28,6],[39,0,31,6],[39,10,31,12,"convertedState"],[39,24,31,26],[39,27,31,29,"Utils"],[39,42,31,35,"convertState"],[39,54,31,29],[39,55,31,48,"state"],[39,60,31,29],[39,61,31,6],[41,0,32,6,"_latestState"],[41,6,32,6,"_latestState"],[41,18,32,18],[41,21,32,21,"convertedState"],[41,35,32,6],[42,0,33,6],[42,13,33,13,"convertedState"],[42,27,33,6],[43,0,34,5],[43,5,25,9],[43,6,25,2],[44,0,36,1],[46,0,38,7],[46,11,38,16,"setup"],[46,16,38,7],[46,19,38,30],[47,0,40,2],[47,8,40,6,"_isSetup"],[47,16,40,2],[47,18,40,16],[48,0,41,4],[49,0,42,3],[51,0,45,2,"_nativeEventSubscription"],[51,4,45,2,"_nativeEventSubscription"],[51,28,45,26],[51,31,45,29,"NativeInterface"],[51,56,45,45,"eventEmitter"],[51,68,45,29],[51,69,45,58,"addListener"],[51,80,45,29],[51,81,46,4,"DEVICE_CONNECTIVITY_EVENT"],[51,106,45,29],[51,108,47,4],[51,118,47,5,"state"],[51,123,47,4],[51,125,47,21],[52,0,49,6,"InternetReachability"],[52,36,49,27,"update"],[52,42,49,6],[52,43,49,34,"state"],[52,48,49,6],[54,0,52,6],[54,10,52,12,"convertedState"],[54,24,52,26],[54,27,52,29,"Utils"],[54,42,52,35,"convertState"],[54,54,52,29],[54,55,52,48,"state"],[54,60,52,29],[54,61,52,6],[56,0,55,6,"_latestState"],[56,6,55,6,"_latestState"],[56,18,55,18],[56,21,55,21,"convertedState"],[56,35,55,6],[58,0,56,6,"_subscriptions"],[58,6,56,6,"_subscriptions"],[58,20,56,20],[58,21,56,21,"forEach"],[58,28,56,6],[58,29,56,29],[58,39,56,30,"handler"],[58,46,56,29],[59,0,56,29],[59,15,56,48,"handler"],[59,22,56,55],[59,23,56,56,"convertedState"],[59,37,56,55],[59,38,56,29],[60,0,56,29],[60,7,56,6],[61,0,57,5],[61,5,45,29],[61,6,45,2],[62,0,61,2,"fetchCurrentState"],[62,4,61,2,"fetchCurrentState"],[62,21,61,19],[63,0,64,2,"_internetReachabilitySubscription"],[63,4,64,2,"_internetReachabilitySubscription"],[63,37,64,35],[63,40,64,38,"InternetReachability"],[63,70,64,59,"addSubscription"],[63,85,64,38],[63,86,65,4],[63,96,65,5,"isInternetReachable"],[63,115,65,4],[63,117,65,35],[64,0,66,6],[64,10,66,10],[64,11,66,11,"_latestState"],[64,23,66,6],[64,25,66,25],[65,0,67,8],[66,0,68,7],[68,0,70,6],[68,10,70,12,"nextState"],[68,19,70,21],[68,40,71,11,"_latestState"],[68,52,70,21],[69,0,72,8,"isInternetReachable"],[69,8,72,8,"isInternetReachable"],[69,27,72,27],[69,29,72,8,"isInternetReachable"],[70,0,70,21],[70,8,70,6],[72,0,74,6,"_latestState"],[72,6,74,6,"_latestState"],[72,18,74,18],[72,21,74,21,"nextState"],[72,30,74,6],[74,0,75,6,"_subscriptions"],[74,6,75,6,"_subscriptions"],[74,20,75,20],[74,21,75,21,"forEach"],[74,28,75,6],[74,29,75,29],[74,39,75,30,"handler"],[74,46,75,29],[75,0,75,29],[75,15,75,48,"handler"],[75,22,75,55],[75,23,75,56,"nextState"],[75,32,75,55],[75,33,75,29],[76,0,75,29],[76,7,75,6],[77,0,76,5],[77,5,64,38],[77,6,64,2],[78,0,80,2,"_isSetup"],[78,4,80,2,"_isSetup"],[78,12,80,10],[78,15,80,13],[78,19,80,2],[79,0,81,1],[81,0,83,7],[81,11,83,16,"tearDown"],[81,19,83,7],[81,22,83,33],[82,0,85,2],[82,8,85,6],[82,9,85,7,"_isSetup"],[82,17,85,2],[82,19,85,17],[83,0,86,4],[84,0,87,3],[86,0,89,2],[86,8,89,6,"_nativeEventSubscription"],[86,32,89,2],[86,34,89,32],[87,0,90,4,"_nativeEventSubscription"],[87,6,90,4,"_nativeEventSubscription"],[87,30,90,28],[87,31,90,29,"remove"],[87,37,90,4],[88,0,91,3],[90,0,92,2,"_subscriptions"],[90,4,92,2,"_subscriptions"],[90,18,92,16],[90,19,92,17,"clear"],[90,24,92,2],[92,0,93,2,"InternetReachability"],[92,34,93,23,"clear"],[92,39,93,2],[94,0,94,2],[94,8,94,6,"_internetReachabilitySubscription"],[94,41,94,2],[94,43,94,41],[95,0,95,4,"_internetReachabilitySubscription"],[95,6,95,4,"_internetReachabilitySubscription"],[95,39,95,37],[96,0,96,3],[98,0,99,2,"_isSetup"],[98,4,99,2,"_isSetup"],[98,12,99,10],[98,15,99,13],[98,20,99,2],[99,0,100,1],[101,0,102,7],[101,11,102,16,"latest"],[101,17,102,7],[101,20,102,54],[102,0,103,2],[102,8,103,6,"_latestState"],[102,20,103,2],[102,22,103,20],[103,0,104,4],[103,13,104,11,"Promise"],[103,20,104,18],[103,21,104,19,"resolve"],[103,28,104,11],[103,29,104,27,"_latestState"],[103,41,104,11],[103,42,104,4],[104,0,105,3],[104,5,103,2],[104,11,105,9],[105,0,106,4],[105,13,106,11,"fetchCurrentState"],[105,30,106,28],[105,32,106,4],[106,0,107,3],[107,0,108,1],[109,0,110,7],[109,11,110,16,"add"],[109,14,110,7],[109,15,110,20,"handler"],[109,22,110,7],[109,24,110,63],[110,0,112,2,"_subscriptions"],[110,4,112,2,"_subscriptions"],[110,18,112,16],[110,19,112,17,"add"],[110,22,112,2],[110,23,112,21,"handler"],[110,30,112,2],[112,0,115,2],[112,8,115,6,"_latestState"],[112,20,115,2],[112,22,115,20],[113,0,116,4,"handler"],[113,6,116,4,"handler"],[113,13,116,11],[113,14,116,12,"_latestState"],[113,26,116,11],[113,27,116,4],[114,0,117,3],[114,5,115,2],[114,11,117,9],[115,0,118,4,"latest"],[115,6,118,4,"latest"],[115,12,118,10],[115,15,118,13,"then"],[115,19,118,4],[115,20,118,18,"handler"],[115,27,118,4],[116,0,119,3],[117,0,120,1],[119,0,122,7],[119,11,122,16,"remove"],[119,17,122,7],[119,18,122,23,"handler"],[119,25,122,7],[119,27,122,66],[120,0,123,2,"_subscriptions"],[120,4,123,2,"_subscriptions"],[120,18,123,16],[120,19,123,17,"delete"],[120,25,123,2],[120,26,123,24,"handler"],[120,33,123,2],[121,0,124,1],[123,17,126,15],[124,0,127,2,"setup"],[124,4,127,2,"setup"],[124,9,127,7],[124,11,127,2,"setup"],[124,16,126,15],[125,0,128,2,"tearDown"],[125,4,128,2,"tearDown"],[125,12,128,10],[125,14,128,2,"tearDown"],[125,22,126,15],[126,0,129,2,"latest"],[126,4,129,2,"latest"],[126,10,129,8],[126,12,129,2,"latest"],[126,18,126,15],[127,0,130,2,"add"],[127,4,130,2,"add"],[127,7,130,5],[127,9,130,2,"add"],[127,12,126,15],[128,0,131,2,"remove"],[128,4,131,2,"remove"],[128,10,131,8],[128,12,131,2,"remove"],[129,0,126,15],[129,3]]},"type":"js/module"}]}